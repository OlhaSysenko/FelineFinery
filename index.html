<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FelineFinery - –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∫—ñ—Ä—è–Ω–∏—Ö –≤–∏—Ä–æ–±—ñ–≤</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.2); }
    .transition-smooth { transition: all 0.3s ease-in-out; }
    .modal-bg { background-color: rgba(0,0,0,0.7); }
    .messenger-icon { margin-left: 8px; cursor: pointer; transition: all 0.2s ease-in-out; }
    .messenger-icon:hover { transform: scale(1.2); }
    .telegram-icon { width: 28px; height: 28px; }
    .viber-icon { width: 32px; height: 32px; }
    .whatsapp-icon { width: 36px; height: 36px; }
    /* –ú–æ–¥–∞–ª—å–Ω–µ —Ñ–æ—Ç–æ */
    #imageModal { display: none; position: fixed; inset: 0; justify-content: center; align-items: center; z-index: 50; }
    #imageModal.active { display: flex; }
    .modal-image { max-width: 90vw; max-height: 80vh; object-fit: contain; cursor: pointer; transition: transform 0.3s ease-in-out; }
    .arrow-btn { position: fixed; top: 50%; transform: translateY(-50%); font-size: 2.5rem; color: #fff; background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 50%; cursor: pointer; user-select: none; z-index: 60; }
    .arrow-left { left: 10px; }
    .arrow-right { right: 10px; }
    .rotate-btn { position: fixed; bottom: 60px; font-size: 2rem; color: #fff; background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 50%; cursor: pointer; user-select: none; z-index: 60; }
    .rotate-left { left: 10px; }
    .rotate-right { right: 10px; }
    .close-btn { position: fixed; top: 10px; right: 10px; font-size: 2.5rem; color: #fff; cursor: pointer; background: rgba(0,0,0,0.3); border-radius: 50%; padding: 0 0.3rem; z-index: 60; }
    .dots-container { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; z-index: 60; }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: background 0.2s; }
    .dot.active { background: #fff; }
    body.modal-open { overflow: hidden; }
  </style>
</head>
<body class="bg-gray-50 font-sans">

<!-- Header -->
<header class="bg-amber-50 shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-2 flex justify-between items-center">
    <div class="text-5xl font-bold text-amber-800 self-center flex items-center">
      <span class="mr-2 inline-block">üêæ</span>
      <a href="#" id="homeLink">FelineFinery</a>
      <span class="ml-2 inline-block transform scale-x-[-1]">üêæ</span>
    </div>
    <div class="flex flex-col items-end space-y-1">
      <div class="flex items-center space-x-2">
        <span>+380123456789</span>
        <a href="https://t.me/yourusername" target="_blank">
          <img class="messenger-icon telegram-icon" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
        </a>
        <a href="viber://chat?number=%2B380123456789" target="_blank">
          <img class="messenger-icon viber-icon" src="https://pngimg.com/uploads/viber/viber_PNG11.png" alt="Viber">
        </a>
        <a href="https://wa.me/380123456789" target="_blank">
          <img class="messenger-icon whatsapp-icon" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
        </a>
      </div>
      <nav class="flex space-x-4">
        <a href="#catalog" id="menuCatalog" class="text-gray-700 hover:text-amber-700 font-bold text-2xl">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="#about" id="menuAbout" class="text-gray-700 hover:text-amber-700 font-bold text-2xl">–ü—Ä–æ –Ω–∞—Å</a>
        <a href="#" id="cartBtn" class="text-gray-700 hover:text-amber-700 font-bold text-2xl">–ö–æ—à–∏–∫ (<span id="cartCount">0</span>)</a>
      </nav>
      <div class="mt-1">
        <button onclick="switchLang('uk')" class="px-2 py-1 border rounded">UA</button>
        <button onclick="switchLang('en')" class="px-2 py-1 border rounded">EN</button>
      </div>
    </div>
  </div>
</header>

<!-- Hero -->
<section class="bg-white py-16">
  <div class="max-w-7xl mx-auto px-4 text-center">
    <h1 id="heroTitle" class="text-3xl md:text-4xl font-serif mb-4 text-amber-900">
      –ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞ —à–∫—ñ—Ä–∞. –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å.
    </h1>    
    <p id="heroDesc" class="text-gray-700 mb-6 text-lg">
      –°—É–º–∫–∏, —Ä—é–∫–∑–∞–∫–∏, –≥–∞–º–∞–Ω—Ü—ñ —Ç–∞ —Ä–µ–º–µ–Ω—ñ —Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤—ñ–¥ –ö–æ—Ç–∞ ‚Äî —è–∫—ñ—Å—Ç—å, —â–æ –∂–∏–≤–µ –¥–æ–≤–≥–æ.
    </p>
    <a href="#catalog" id="heroBtn" class="px-6 py-3 bg-amber-700 text-white rounded-md hover:bg-amber-800 transition-smooth">
      –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥
    </a>
  </div>
</section>

<!-- Categories + Sorting -->
<section class="max-w-7xl mx-auto px-4 py-8 flex flex-wrap justify-between items-center">
  <div id="categoryButtons" class="flex gap-2 flex-wrap mb-2"></div>
  <div>
    <select id="sortSelect" class="px-4 py-2 border rounded hover:bg-amber-50 transition-smooth" onchange="applySorting()"></select>
  </div>
</section>

<!-- Catalog -->
<section id="catalog" class="max-w-7xl mx-auto px-4 py-8">
  <h2 id="catalogTitle" class="text-2xl font-semibold mb-4 text-amber-900">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤</h2>
  <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
</section>

<!-- About -->
<section id="about" class="max-w-7xl mx-auto px-4 py-12">
  <h2 id="aboutTitle" class="text-2xl font-semibold mb-4 text-amber-900">–ü—Ä–æ –Ω–∞—Å</h2>
  <p id="aboutDesc" class="text-gray-700 text-lg">
    –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å–≤—ñ—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—ó —à–∫—ñ—Ä–∏ —Ä–∞–∑–æ–º –∑ FelineFinery! –ù–∞—à—ñ —Å—É–º–∫–∏, —Ä—é–∫–∑–∞–∫–∏ —Ç–∞ –≥–∞–º–∞–Ω—Ü—ñ ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–∫—Å–µ—Å—É–∞—Ä–∏, —Ü–µ —ñ—Å—Ç–æ—Ä—ñ—è –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ, —Å—Ç–∏–ª—é —Ç–∞ –¥–æ–≤–≥–æ–≤—ñ—á–Ω–æ—Å—Ç—ñ. –ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–± —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤—Ä—É—á–Ω—É –∑ –ª—é–±–æ–≤‚Äô—é —Ç–∞ —É–≤–∞–≥–æ—é –¥–æ –¥–µ—Ç–∞–ª–µ–π, —É —î–¥–∏–Ω–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ, —â–æ–± –ø—ñ–¥–∫—Ä–µ—Å–ª–∏—Ç–∏ –≤–∞—à—É —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ—Å—Ç—å —ñ –∑—Ä–æ–±–∏—Ç–∏ –≤–∞—à –æ–±—Ä–∞–∑ –Ω–µ–ø–æ–≤—Ç–æ—Ä–Ω–∏–º.
  </p>
</section>

<!-- Footer -->
<footer class="bg-white border-t mt-12">
  <div class="max-w-7xl mx-auto px-4 py-6 text-sm text-gray-600 flex justify-center items-center space-x-4">
    <span>+380123456789</span>
    <a href="https://t.me/yourusername" target="_blank">
      <img class="messenger-icon telegram-icon" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
    </a>
    <a href="viber://chat?number=%2B380123456789" target="_blank">
      <img class="messenger-icon viber-icon" src="https://pngimg.com/uploads/viber/viber_PNG11.png" alt="Viber">
    </a>
    <a href="https://wa.me/380123456789" target="_blank">
      <img class="messenger-icon whatsapp-icon" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
    </a>
  </div>
</footer>

<!-- Cart Modal -->
<div id="cartModal" class="fixed inset-0 modal-bg flex justify-center items-center hidden z-50">
  <div class="bg-white w-96 p-6 rounded-lg transition-smooth">
    <h3 id="cartTitle" class="text-lg font-semibold mb-4">–ö–æ—à–∏–∫</h3>
    <ul id="cartItems" class="space-y-2 max-h-64 overflow-y-auto mb-4"></ul>
    <div class="flex justify-between mb-4 font-medium">
      <span id="cartTotalLabel">–ó–∞–≥–∞–ª–æ–º:</span>
      <span id="cartTotal">0 ‚Ç¨</span>
    </div>
    <div class="flex justify-between">
      <button id="checkoutBtn" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-smooth">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      <button id="closeCartBtn" class="px-4 py-2 bg-amber-700 text-white rounded hover:bg-amber-800 transition-smooth">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
  </div>
</div>

<!-- Product Image Modal -->
<div id="imageModal" class="modal-bg">
  <span class="close-btn">&times;</span>
  <span class="arrow-btn arrow-left">&#8592;</span>
  <img id="modalImg" class="modal-image" src="" alt="Product Image">
  <span class="arrow-btn arrow-right">&#8594;</span>
  <span class="rotate-btn rotate-left">&#8634;</span>
  <span class="rotate-btn rotate-right">&#8635;</span>
  <div class="dots-container" id="dotsContainer"></div>
</div>

<script>
// --- Translations & Data ---
const translations = {
  uk: {
    menu: { catalog: '–ö–∞—Ç–∞–ª–æ–≥', about: '–ü—Ä–æ –Ω–∞—Å', cart: '–ö–æ—à–∏–∫' },
    hero: { title: '–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞ —à–∫—ñ—Ä–∞. –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å.', desc: '–°—É–º–∫–∏, —Ä—é–∫–∑–∞–∫–∏, –≥–∞–º–∞–Ω—Ü—ñ —Ç–∞ —Ä–µ–º–µ–Ω—ñ —Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤—ñ–¥ –ö–æ—Ç–∞ ‚Äî —è–∫—ñ—Å—Ç—å, —â–æ –∂–∏–≤–µ –¥–æ–≤–≥–æ.', btn: '–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥' },
    catalogTitle: '–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤',
    aboutTitle: '–ü—Ä–æ –Ω–∞—Å',
    aboutDesc: '–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å–≤—ñ—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—ó —à–∫—ñ—Ä–∏ —Ä–∞–∑–æ–º –∑ FelineFinery! –ù–∞—à—ñ —Å—É–º–∫–∏, —Ä—é–∫–∑–∞–∫–∏ —Ç–∞ –≥–∞–º–∞–Ω—Ü—ñ ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–∫—Å–µ—Å—É–∞—Ä–∏, —Ü–µ —ñ—Å—Ç–æ—Ä—ñ—è –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ, —Å—Ç–∏–ª—é —Ç–∞ –¥–æ–≤–≥–æ–≤—ñ—á–Ω–æ—Å—Ç—ñ. –ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–± —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤—Ä—É—á–Ω—É –∑ –ª—é–±–æ–≤‚Äô—é —Ç–∞ —É–≤–∞–≥–æ—é –¥–æ –¥–µ—Ç–∞–ª–µ–π, —É —î–¥–∏–Ω–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ, —â–æ–± –ø—ñ–¥–∫—Ä–µ—Å–ª–∏—Ç–∏ –≤–∞—à—É —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ—Å—Ç—å —ñ –∑—Ä–æ–±–∏—Ç–∏ –≤–∞—à –æ–±—Ä–∞–∑ –Ω–µ–ø–æ–≤—Ç–æ—Ä–Ω–∏–º.',
    cartTitle: '–ö–æ—à–∏–∫',
    cartTotal: '–ó–∞–≥–∞–ª–æ–º:',
    checkoutBtn: '–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è',
    closeBtn: '–ó–∞–∫—Ä–∏—Ç–∏',
    addBtn: '–î–æ–¥–∞—Ç–∏',
    categories: ['–°—É–º–∫–∏','–†—é–∫–∑–∞–∫–∏','–ì–∞–º–∞–Ω—Ü—ñ','–†–µ–º–µ–Ω—ñ','–ê–∫—Å–µ—Å—É–∞—Ä–∏','–£—Å—ñ'],
    sortOptions: ['–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è','–ù–∞–∑–≤–∞: –ê‚Üí–Ø','–ù–∞–∑–≤–∞: –Ø‚Üí–ê','–¶—ñ–Ω–∞: –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è','–¶—ñ–Ω–∞: —Å–ø–∞–¥–∞–Ω–Ω—è']
  },
  en: {
    menu: { catalog: 'Catalog', about: 'About', cart: 'Cart' },
    hero: { title: 'Genuine Leather. Ukrainian Craftsmanship.', desc: 'Bags, backpacks, wallets, and belts by the Cat ‚Äî quality that lasts.', btn: 'View Catalog' },
    catalogTitle: 'Product Catalog',
    aboutTitle: 'About Us',
    aboutDesc: 'Discover the world of genuine leather with FelineFinery! Our bags, backpacks, and wallets are not just accessories; they tell a story of craftsmanship, style, and durability. Each piece is handmade with love and attention to detail, highlighting your individuality and making your look unique.',
    cartTitle: 'Cart',
    cartTotal: 'Total:',
    checkoutBtn: 'Checkout',
    closeBtn: 'Close',
    addBtn: 'Add',
    categories: ['Bags','Backpacks','Wallets','Belts','Accessories','All'],
    sortOptions: ['Sort','Name: A‚ÜíZ','Name: Z‚ÜíA','Price: Low‚ÜíHigh','Price: High‚ÜíLow']
  }
};

let currentLang = 'uk';

const products = [
  { id: 1, title: { uk: "–°—É–º–∫–∞ 'Kiev'", en: "Bag 'Kiev'" }, category: { uk: "–°—É–º–∫–∏", en: "Bags" }, price: 129, img: ["images/red_bag_3.jpg", "images/red_bag_2.jpg", "images/red_bag_1.jpg"], desc: { uk: "–ï–ª–µ–≥–∞–Ω—Ç–Ω–∞ —à–∫—ñ—Ä—è–Ω–∞ —Å—É–º–∫–∞, —Ä—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞, —ñ–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.", en: "Elegant leather bag, handmade, perfect for daily use." } },
  { id: 2, title: { uk: "–°—É–º–∫–∞ 'Kiev'", en: "Bag 'Kiev'" }, category: { uk: "–°—É–º–∫–∏", en: "Bags" }, price: 129, img: ["images/black_bag_1.jpg", "images/black_bag_2.jpg"], desc: { uk: "–ï–ª–µ–≥–∞–Ω—Ç–Ω–∞ —à–∫—ñ—Ä—è–Ω–∞ —Å—É–º–∫–∞, —Ä—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞, —ñ–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.", en: "Elegant leather bag, handmade, perfect for daily use." } },
  { id: 3, title: { uk: "–ê–∫—Å–µ—Å—É–∞—Ä–∏ 'Kiev'", en: "Accessories 'Kiev'" }, category: { uk: "–ê–∫—Å–µ—Å—É–∞—Ä–∏", en: "Accessories" }, price: 129, img: ["images/Acs_1.jpg"], desc: { uk: "–ï–ª–µ–≥–∞–Ω—Ç–Ω–∞ –ø—Ä–∏–∫—Ä–∞—Å–∞, —Ä—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞, —ñ–¥–µ–∞–ª—å–Ω–∞ —è–∫ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —Ç–∞–∫ —ñ –¥–ª—è —Å–≤—è—Ç–∫–æ–≤–∏—Ö –ø–æ–¥—ñ–π.", en: "Elegant decoration, handmade, perfect for both everyday use and festive events" } },
  { id: 4, title: { uk: "–ê–∫—Å–µ—Å—É–∞—Ä–∏ 'Kiev'", en: "Accessories 'Kiev'" }, category: { uk: "–ê–∫—Å–µ—Å—É–∞—Ä–∏", en: "Accessories" }, price: 129, img: ["images/acs_2.jpg"], desc: { uk: "–ï–ª–µ–≥–∞–Ω—Ç–Ω–∞ –ø—Ä–∏–∫—Ä–∞—Å–∞, —Ä—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞, —ñ–¥–µ–∞–ª—å–Ω–∞ —è–∫ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —Ç–∞–∫ —ñ –¥–ª—è —Å–≤—è—Ç–∫–æ–≤–∏—Ö –ø–æ–¥—ñ–π.", en: "Elegant decoration, handmade, perfect for both everyday use and festive events" } },
  { id: 5, title: { uk: "–†—é–∫–∑–∞–∫ 'Traveler'", en: "Backpack 'Traveler'" }, category: { uk: "–†—é–∫–∑–∞–∫–∏", en: "Backpacks" }, price: 179, img: ["images/bagpack.jpg"], desc: { uk: "–ú—ñ—Ü–Ω–∏–π —Ä—é–∫–∑–∞–∫ –∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—ó —à–∫—ñ—Ä–∏ –¥–ª—è –ø–æ–¥–æ—Ä–æ–∂–µ–π —Ç–∞ —â–æ–¥–µ–Ω–Ω–∏—Ö –ø—Ä–∏–≥–æ–¥.", en: "Durable leather backpack for travel and daily adventures." } },
  { id: 6, title: { uk: "–ì–∞–º–∞–Ω–µ—Ü—å 'Classic'", en: "Wallet 'Classic'" }, category: { uk: "–ì–∞–º–∞–Ω—Ü—ñ", en: "Wallets" }, price: 49, img: ["images/A_wallet_1.jpg", "images/A_wallet_2.jpg"], desc: { uk: "–ö–æ–º–ø–∞–∫—Ç–Ω–∏–π –≥–∞–º–∞–Ω–µ—Ü—å –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ —Ç–∞ –≥–æ—Ç—ñ–≤–∫–∏.", en: "Compact wallet for cards and cash." } },
  { id: 7, title: { uk: "–†–µ–º—ñ–Ω—å 'Heritage'", en: "Belt 'Heritage'" }, category: { uk: "–†–µ–º–µ–Ω—ñ", en: "Belts" }, price: 39, img: ["images/rem_1.jpg"], desc: { uk: "–°—Ç–∏–ª—å–Ω–∏–π —Ä–µ–º—ñ–Ω—å –∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—ó —à–∫—ñ—Ä–∏, –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –±—É–¥—å-—è–∫–æ–≥–æ –æ–±—Ä–∞–∑—É.", en: "Stylish leather belt suitable for any outfit." } }
];

let cart = [];
let currentCategory = '';

// --- Functions ---
function switchLang(lang){
  currentLang = lang;
  document.getElementById('menuCatalog').textContent = translations[lang].menu.catalog;
  document.getElementById('menuAbout').textContent = translations[lang].menu.about;
  document.getElementById('cartBtn').innerHTML = `${translations[lang].menu.cart} (<span id="cartCount">${cart.reduce((s,i)=>s+i.qty||0,0)}</span>)`;
  document.getElementById('heroTitle').textContent = translations[lang].hero.title;
  document.getElementById('heroDesc').textContent = translations[lang].hero.desc;
  document.getElementById('heroBtn').textContent = translations[lang].hero.btn;
  document.getElementById('catalogTitle').textContent = translations[lang].catalogTitle;
  document.getElementById('aboutTitle').textContent = translations[lang].aboutTitle;
  document.getElementById('aboutDesc').textContent = translations[lang].aboutDesc;
  document.getElementById('cartTitle').textContent = translations[lang].cartTitle;
  document.getElementById('cartTotalLabel').textContent = translations[lang].cartTotal;
  document.getElementById('checkoutBtn').textContent = translations[lang].checkoutBtn;
  document.getElementById('closeCartBtn').textContent = translations[lang].closeBtn;
  renderCategories();
  renderSortOptions();
  renderProducts(getFilteredProducts());
}

function renderCategories(){
  const container = document.getElementById('categoryButtons');
  container.innerHTML='';
  translations[currentLang].categories.forEach((c,i)=>{
    const btn = document.createElement('button');
    btn.className='px-4 py-2 border rounded hover:bg-amber-50 transition-smooth';
    btn.textContent = c;
    btn.onclick = ()=>{ currentCategory = i===translations[currentLang].categories.length-1 ? '' : c; renderProducts(getFilteredProducts()); };
    container.appendChild(btn);
  });
}

function renderSortOptions(){
  const select = document.getElementById('sortSelect');
  select.innerHTML='';
  translations[currentLang].sortOptions.forEach((opt,i)=>{
    const option = document.createElement('option');
    option.value = i===0?'':['nameAsc','nameDesc','priceAsc','priceDesc'][i-1] || '';
    option.textContent = opt;
    select.appendChild(option);
  });
}

function applySorting(){ renderProducts(getFilteredProducts()); }

function getFilteredProducts(){
  let list = currentCategory ? products.filter(p=>p.category[currentLang]===currentCategory) : [...products];
  const sort = document.getElementById('sortSelect').value;
  if(sort==='nameAsc') list.sort((a,b)=>a.title[currentLang].localeCompare(b.title[currentLang]));
  else if(sort==='nameDesc') list.sort((a,b)=>b.title[currentLang].localeCompare(a.title[currentLang]));
  else if(sort==='priceAsc') list.sort((a,b)=>a.price-b.price);
  else if(sort==='priceDesc') list.sort((a,b)=>b.price-a.price);
  return list;
}

function renderProducts(list){
  const grid = document.getElementById('productGrid');
  grid.innerHTML='';
  list.forEach(p=>{
    const card = document.createElement('div');
    card.className='border rounded p-2 bg-white flex flex-col product-card transition-smooth';
    
    const img = document.createElement('img');
    img.src=p.img[0]; img.alt=p.title[currentLang];
    img.className='w-full h-48 object-cover rounded mb-2 cursor-pointer';
    img.addEventListener('click',()=>showImageModal(p));

    const title = document.createElement('h3');
    title.className='font-medium mb-1 text-amber-800';
    title.textContent=p.title[currentLang];

    const category = document.createElement('div');
    category.className='text-gray-600 mb-2';
    category.textContent=p.category[currentLang];

    const desc = document.createElement('p');
    desc.className='text-gray-700 mb-2 text-sm';
    desc.textContent = p.desc[currentLang];

    const footer = document.createElement('div');
    footer.className='flex justify-between items-center';
    const price = document.createElement('span');
    price.className='font-semibold'; price.textContent=p.price+' ‚Ç¨';
    const addBtn = document.createElement('button');
    addBtn.className='px-2 py-1 bg-amber-700 text-white rounded hover:bg-amber-800 transition-smooth';
    addBtn.textContent=translations[currentLang].addBtn;
    addBtn.addEventListener('click',()=>addToCart(p.id));
    footer.appendChild(price); footer.appendChild(addBtn);

    card.appendChild(img); card.appendChild(title); card.appendChild(category); card.appendChild(desc); card.appendChild(footer);
    grid.appendChild(card);
  });
}

// Cart functions
function addToCart(id){
  const item = products.find(p=>p.id===id);
  const found = cart.find(c=>c.id===id);
  if(found) found.qty++; else cart.push({...item,qty:1});
  updateCartCount();
}

function updateCartCount(){
  document.getElementById('cartCount').textContent=cart.reduce((sum,i)=>sum+i.qty,0);
}

const cartModal = document.getElementById('cartModal');
const cartItems = document.getElementById('cartItems');
document.getElementById('cartBtn').addEventListener('click',()=>{
  cartItems.innerHTML='';
  cart.forEach(i=>{
    const li = document.createElement('li');
    li.className='flex justify-between items-center';
    li.innerHTML=`${i.title[currentLang]} x${i.qty} - ${i.price*i.qty} ‚Ç¨`;
    const removeBtn = document.createElement('button');
    removeBtn.className='text-red-600 ml-2';
    removeBtn.textContent='x';
    removeBtn.addEventListener('click',()=>removeFromCart(i.id));
    li.appendChild(removeBtn);
    cartItems.appendChild(li);
  });
  document.getElementById('cartTotal').textContent=cart.reduce((sum,i)=>sum+i.price*i.qty,0)+' ‚Ç¨';
  cartModal.classList.remove('hidden');
});
document.getElementById('closeCartBtn').addEventListener('click',()=>cartModal.classList.add('hidden'));
document.getElementById('checkoutBtn').addEventListener('click',()=>alert(translations[currentLang].checkoutBtn+' functionality will be implemented later'));
function removeFromCart(id){
  cart=cart.filter(c=>c.id!==id);
  updateCartCount();
  document.getElementById('cartBtn').click();
}

// Product Image Modal functions
const imageModal = document.getElementById('imageModal');
const modalImg = document.getElementById('modalImg');
const closeBtn = imageModal.querySelector('.close-btn');
const leftArrow = imageModal.querySelector('.arrow-left');
const rightArrow = imageModal.querySelector('.arrow-right');
const rotateLeft = imageModal.querySelector('.rotate-left');
const rotateRight = imageModal.querySelector('.rotate-right');
const dotsContainer = document.getElementById('dotsContainer');
let currentImages = [];
let currentIndex = 0;
let currentRotation = 0;

function showImageModal(product){
  currentImages = product.img;
  currentIndex = 0;
  currentRotation = 0;
  modalImg.src = currentImages[currentIndex];
  modalImg.style.transform = `rotate(0deg)`;
  imageModal.classList.add('active');
  document.body.classList.add('modal-open');
  renderDots();
}

function closeImageModal(){
  imageModal.classList.remove('active');
  document.body.classList.remove('modal-open');
}

function renderDots(){
  dotsContainer.innerHTML='';
  currentImages.forEach((_,i)=>{
    const dot = document.createElement('span');
    dot.className='dot'+(i===currentIndex?' active':'');
    dot.addEventListener('click',()=>{ currentIndex=i; currentRotation=0; updateModalImage(); });
    dotsContainer.appendChild(dot);
  });
}

function updateModalImage(){
  modalImg.src=currentImages[currentIndex];
  modalImg.style.transform = `rotate(${currentRotation}deg)`;
  renderDots();
}

function changeImage(step){
  currentIndex = (currentIndex + step + currentImages.length) % currentImages.length;
  currentRotation = 0;
  updateModalImage();
}

function rotateImage(step){
  currentRotation += step;
  modalImg.style.transform = `rotate(${currentRotation}deg)`;
}

// Swipe support
let touchStartX = 0;
let touchEndX = 0;
modalImg.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; });
modalImg.addEventListener('touchend', e => {
  touchEndX = e.changedTouches[0].screenX;
  if(touchEndX - touchStartX > 50) changeImage(-1);
  else if(touchStartX - touchEndX > 50) changeImage(1);
});

closeBtn.onclick = closeImageModal;
leftArrow.onclick = ()=>changeImage(-1);
rightArrow.onclick = ()=>changeImage(1);
rotateLeft.onclick = ()=>rotateImage(-90);
rotateRight.onclick = ()=>rotateImage(90);

// Home link
document.getElementById('homeLink').onclick = ()=>{ window.scrollTo({ top: 0, behavior: 'smooth' }); };

// Init
switchLang('uk');
renderCategories();
renderSortOptions();
renderProducts(getFilteredProducts());
</script>

</body>
</html>
